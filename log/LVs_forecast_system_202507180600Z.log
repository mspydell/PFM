initializing model and making the info.pkl file.
The model information in:
/home/mspydell/models/PFM_root/PFM/sdpm_py_util/pfm_input_v2p0.py
is turned into a .pkl file of model info.
The model_info dictionary is saved to /scratch/matt/PFM_Simulations_v2/forecast_info.pkl
This file dictates how the model is run, where files are saved, etc.

------------------------------------------------------------
                        Model Set Up                        
------------------------------------------------------------
forecast                                                    
from           : 2025-07-18 06:00                           
to             : 2025-07-23 06:00                           
in a           : 5.0 day chunk                              
atm model      : ecmwf                                      
ocean_model    : hycom_new                                  
running levels : LV1, LV2, LV3, LV4                         

===========================
!!!starting the forecast with subprocess!!!
current time is:  2025-07-18 12:05:04.167858
===========================
Removed: /scratch/PFM_Simulations/hycom_data/hy_v3z_2025-07-06T12:00_2025-07-09T18:00.nc.pid2484918.ncks.tmp
Starting the loop over levels to run!

--------------------------
starting LV1
starting LV1 forecast with subprocess...
We are starting clean.
Removing files from directories...
...done.
202507180600

Going to do a PFM forecast from
2025-07-18 06:00:00
to
2025-07-23 06:00:00
getting the hycom forecast time...
this will clean, download new hycom files, then find the forecast date covering the PFM times.
we currently have hycom forecasts starting from:
['2025-07-16', '2025-07-17']
checking to see if we are missing any files...
we are missing 401 files from these forecasts.
attempting to get these files ...
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
getting <=10 hycom files... done
...done
we are now missing 0 files from these forecasts.

attempting to get a new hycom forecast...
no need to get a new forecast. We are up to date.
now how many total files are we now missing?
the  20250716  hycom forecast is missing
0  files out of  453
the  20250717  hycom forecast is missing
0  files out of  453
removing old unneeded full forecasts...
the date 2025-07-16 will be deleted
...done
which hycom forecast has the times we need for the PFM simulation?
for the PFM simulation starting from  2025-07-18 06:00:00
and ending at  2025-07-23 06:00:00
for the  20250717  hycom forecast, we are missing
0  files.
so we will use the
20250717  hycom simulation for this PFM forecast

Directory '/home/mspydell/models/PFM_root/PFM/driver/tds.hycom.org' does not exist.


we will use the hycom forecast from
20250717
for the PFM forecast.
...done.
this took:
0:02:30.684664


making the hycom pickle file from all hycom.nc files ...
all hycom nc files are the correct size, moving on!

max and min raw hycom data (iz is top [0] to bottom [39]):
max zeta   =  1.484 m          at  ( it, ilat, ilon)     =  (117,  60,  97)
min zeta   = -1.256 m          at  ( it, ilat, ilon)     =  (100, 138,  47)
max u      =  0.533 m/s        at  ( it, iz, ilat, ilon) =  (  4,  1,  57,  63)
min u      = -0.594 m/s        at  ( it, iz, ilat, ilon) =  ( 31, 12, 136,  46)
max v      =  0.578 m/s        at  ( it, iz, ilat, ilon) =  ( 36,  0, 142,  56)
min v      = -0.635 m/s        at  ( it, iz, ilat, ilon) =  ( 25,  0, 105,  41)
max temp   = 24.403 C          at  ( it, iz, ilat, ilon) =  (  6,  0, 105,  84)
min temp   =  1.280 C          at  ( it, iz, ilat, ilon) =  (  2, 38, 117,  19)
max dT/dz  =  2.545 C/m        at  ( it, iz, ilat, ilon) =  (  0,  1, 123,  79)
min dT/dz  = -0.110 C/m        at  ( it, iz, ilat, ilon) =  ( 23, 13, 121,  56)
max salt   = 34.718 psu        at  ( it, iz, ilat, ilon) =  (  0, 38, 146,  17)
min salt   = 32.760 psu        at  ( it, iz, ilat, ilon) =  (  0,  7,  83,  28)
max dS/dz  =  0.063 psu/m      at  ( it, iz, ilat, ilon) =  (  0,  1,  85,  29)
min dS/dz  = -0.033 psu/m      at  ( it, iz, ilat, ilon) =  ( 15,  5, 131,  27)

Hycom OCN dict saved with pickle
did subprocess run correctly? 0 (0=yes,1=no)
...done.
this took:
0:00:04.420660


putting the hycom data in /scratch/PFM_Simulations/LV1_Forecast/Forc/hycom_tmp_pckl_file.pkl on the roms grid...
